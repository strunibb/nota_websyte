<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –∞–±–æ–Ω–µ–º–µ–Ω—Ç–∞</title>
    <style>
        body {
            font-family: 'Arial', sans-serif;
            margin: 0;
            padding: 20px;
            background: linear-gradient(135deg, #e0f7fa, #80deea);
            color: #333;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
        }
        h1, h3 {
            text-align: center;
            color: #00695c;
            margin: 10px 0;
        }
        .container {
            max-width: 600px;
            width: 100%;
            padding: 20px;
            background-color: rgba(255, 255, 255, 0.9);
            border-radius: 15px;
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);
        }
        .welcome-message {
            background-color: #0097a7;
            color: white;
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 20px;
            text-align: center;
            font-size: 1em;
            line-height: 1.5;
        }
        .welcome-message strong {
            color: #ffeb3b;
        }
        label {
            display: block;
            margin: 10px 0 5px;
            color: #00796b;
            font-weight: bold;
        }
        select {
            width: 100%;
            padding: 10px;
            border-radius: 8px;
            border: 2px solid #0097a7;
            margin-bottom: 15px;
            font-size: 0.9em;
            color: #004d40;
            background-color: #e0f7fa;
            transition: border-color 0.3s ease;
        }
        select:focus {
            border-color: #00695c;
            outline: none;
        }
        .total-cost {
            font-size: 1.3em;
            font-weight: bold;
            text-align: center;
            margin-top: 20px;
            color: #00695c;
        }
        .counter-container {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 15px;
        }
        .counter-btn {
            width: 35px;
            height: 35px;
            border-radius: 50%;
            border: 2px solid #0097a7;
            background-color: #80deea;
            font-size: 1em;
            cursor: pointer;
            transition: all 0.3s ease;
            color: #004d40;
        }
        .counter-btn:hover {
            background-color: #4dd0e1;
            border-color: #00695c;
        }
        .counter-value {
            font-size: 1.1em;
            min-width: 30px;
            text-align: center;
            color: #00796b;
        }
        .teachers-selection {
            margin-bottom: 15px;
        }
        .teachers-selection h3 {
            color: #00796b;
        }
        .teachers-selection p {
            font-size: 1em;
            color: #004d40;
        }
        .payment-details {
            margin-top: 20px;
            padding: 15px;
            background-color: #e0f7fa;
            border-radius: 10px;
            border: 2px solid #0097a7;
            text-align: center;
            display: none; /* –°–∫—Ä—ã—Ç–æ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é */
        }
        .payment-details p {
            margin: 8px 0;
            color: #004d40;
            font-size: 1em;
        }
        .payment-details strong {
            color: #00695c;
        }
        .telegram-button {
            display: block;
            margin: 20px auto;
            padding: 12px 24px;
            background-color: #0088cc;
            color: white;
            text-decoration: none;
            border-radius: 8px;
            font-size: 1em;
            text-align: center;
            transition: background-color 0.3s ease;
            width: fit-content;
        }
        .telegram-button:hover {
            background-color: #006699;
        }
        .sticker {
            display: inline-block;
            font-size: 1.5em;
            margin: 0 5px;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ -->
        <div class="welcome-message">
            –ü—Ä–∏–≤–µ—Ç –æ—Ç –ù–∏–∫–∏—Ç—ã –∏–∑ —à–∫–æ–ª—ã <strong>–°—Ç—Ä—É–Ω—ã –ë—É–¥—É—â–µ–≥–æ!</strong> ü©µ<br>
            –ó–¥–µ—Å—å —Ç—ã –º–æ–∂–µ—à—å —Ä–∞—Å—Å—á–∏—Ç–∞—Ç—å —Å—Ç–æ–∏–º–æ—Å—Ç—å –∞–±–æ–Ω–µ–º–µ–Ω—Ç–∞ <strong>"–ö–æ–º–±–æ"</strong>.<br>
            –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤–∫–ª—é—á–µ–Ω—ã <strong>2, 3 –∏–ª–∏ 4 –∑–∞–Ω—è—Ç–∏—è —Å–æ –º–Ω–æ–π</strong>, –æ—Å—Ç–∞–ª—å–Ω—ã–µ –∑–∞–Ω—è—Ç–∏—è –ø–æ –∂–µ–ª–∞–Ω–∏—é —Å –ª—é–±—ã–º–∏ –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—è–º–∏!
        </div>

        <h1>–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –∞–±–æ–Ω–µ–º–µ–Ω—Ç–∞</h1>

        <label for="sessions">–í—ã–±–µ—Ä–∏—Ç–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–Ω—è—Ç–∏–π:</label>
        <select id="sessions" onchange="updateTeachers()">
            <option value="4">4 –∑–∞–Ω—è—Ç–∏—è</option>
            <option value="6">6 –∑–∞–Ω—è—Ç–∏–π</option>
            <option value="8">8 –∑–∞–Ω—è—Ç–∏–π</option>
        </select>

        <div id="nikita" class="teachers-selection">
            <h3>–ó–∞–Ω—è—Ç–∏—è —Å –ù–∏–∫–∏—Ç–æ–π</h3>
            <p id="nikitaCount"></p>
        </div>

        <h3>–ó–∞–Ω—è—Ç–∏—è —Å –¥—Ä—É–≥–∏–º–∏ –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—è–º–∏:</h3>
        
        <div>
            <label>–î–∞–Ω–∏–∏–ª:</label>
            <div class="counter-container">
                <button class="counter-btn" onclick="updateCount('danil', -1)">-</button>
                <span class="counter-value" id="danilCount">0</span>
                <button class="counter-btn" onclick="updateCount('danil', 1)">+</button>
            </div>
        </div>

        <div>
            <label>–ö—Å–µ–Ω–∏—è:</label>
            <div class="counter-container">
                <button class="counter-btn" onclick="updateCount('kseniya', -1)">-</button>
                <span class="counter-value" id="kseniyaCount">0</span>
                <button class="counter-btn" onclick="updateCount('kseniya', 1)">+</button>
            </div>
        </div>

        <div>
            <label>–û–ª—å–≥–∞:</label>
            <div class="counter-container">
                <button class="counter-btn" onclick="updateCount('olga', -1)">-</button>
                <span class="counter-value" id="olgaCount">0</span>
                <button class="counter-btn" onclick="updateCount('olga', 1)">+</button>
            </div>
        </div>

        <h3 class="total-cost">–û–±—â–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å: <span id="totalCost">0</span> —Ä—É–±–ª–µ–π</h3>

        <!-- –†–µ–∫–≤–∏–∑–∏—Ç—ã –¥–ª—è –æ–ø–ª–∞—Ç—ã -->
        <div class="payment-details" id="paymentDetails">
            <h3>–†–µ–∫–≤–∏–∑–∏—Ç—ã –¥–ª—è –æ–ø–ª–∞—Ç—ã</h3>
            <p><strong>–ù–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞:</strong> +79220566724</p>
            <p><strong>–ë–∞–Ω–∫:</strong> –°–±–µ—Ä–±–∞–Ω–∫</p>
            <p><strong>–ü–æ–ª—É—á–∞—Ç–µ–ª—å:</strong> –ù–∏–∫–∏—Ç–∞ –û.</p>
        </div>

        <!-- –ö–Ω–æ–ø–∫–∞ –¥–ª—è –ø–µ—Ä–µ—Ö–æ–¥–∞ –≤ Telegram -->
        <a href="https://t.me/nikguitar" class="telegram-button" target="_blank">
            –ü–æ—Å–ª–µ –æ–ø–ª–∞—Ç—ã –ø—Ä–∏—Å—ã–ª–∞—Ç—å —á–µ–∫ —Å—é–¥–∞ <span class="sticker">üì®</span>
        </a>
    </div>

    <script>
        const prices = {
            nikita: 850,
            danil: 690,
            kseniya: 750,
            olga: 750
        };

        function updateTeachers() {
            const sessions = document.getElementById('sessions').value;
            const nikitaCount = document.getElementById('nikitaCount');

            if (sessions == 4) {
                nikitaCount.textContent = "2 –∑–∞–Ω—è—Ç–∏—è —Å –ù–∏–∫–∏—Ç–æ–π";
            } else if (sessions == 6) {
                nikitaCount.textContent = "3 –∑–∞–Ω—è—Ç–∏—è —Å –ù–∏–∫–∏—Ç–æ–π";
            } else if (sessions == 8) {
                nikitaCount.textContent = "4 –∑–∞–Ω—è—Ç–∏—è —Å –ù–∏–∫–∏—Ç–æ–π";
            }
            calculateTotal();
        }

        function getNikitaCount() {
            const sessions = document.getElementById('sessions').value;
            return (sessions == 4) ? 2 : (sessions == 6) ? 3 : 4;
        }

        function updateCount(teacher, delta) {
            const countElement = document.getElementById(`${teacher}Count`);
            let currentCount = parseInt(countElement.textContent) || 0;
            currentCount = Math.max(0, currentCount + delta);
            countElement.textContent = currentCount;
            calculateTotal();
        }

        function validateTotal() {
            const sessions = parseInt(document.getElementById('sessions').value);
            const danilCount = parseInt(document.getElementById('danilCount').textContent) || 0;
            const kseniyaCount = parseInt(document.getElementById('kseniyaCount').textContent) || 0;
            const olgaCount = parseInt(document.getElementById('olgaCount').textContent) || 0;
            const nikitaCount = getNikitaCount();

            const totalSelected = danilCount + kseniyaCount + olgaCount + nikitaCount;

            if (totalSelected > sessions) {
                alert(`–°—É–º–º–∞ –∑–∞–Ω—è—Ç–∏–π –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –±–æ–ª—å—à–µ ${sessions}!`);
                resetExcessSelections(totalSelected, sessions);
                return false;
            }
            return true;
        }

        function resetExcessSelections(totalSelected, sessions) {
            const excess = totalSelected - sessions;
            const fields = ['olga', 'kseniya', 'danil'];
            
            let remainingExcess = excess;
            for (let fieldId of fields) {
                if (remainingExcess <= 0) break;
                const countElement = document.getElementById(`${fieldId}Count`);
                let currentValue = parseInt(countElement.textContent);
                
                if (currentValue > 0) {
                    const newValue = Math.max(0, currentValue - remainingExcess);
                    remainingExcess -= (currentValue - newValue);
                    countElement.textContent = newValue;
                }
            }
            calculateTotal();
        }

        function calculateTotal() {
            if (!validateTotal()) return;

            const danilCount = parseInt(document.getElementById('danilCount').textContent) || 0;
            const kseniyaCount = parseInt(document.getElementById('kseniyaCount').textContent) || 0;
            const olgaCount = parseInt(document.getElementById('olgaCount').textContent) || 0;
            const nikitaCount = getNikitaCount();

            const totalCost = (nikitaCount * prices.nikita) + 
                            (danilCount * prices.danil) + 
                            (kseniyaCount * prices.kseniya) + 
                            (olgaCount * prices.olga);
            
            document.getElementById('totalCost').textContent = totalCost;

            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Ä–µ–∫–≤–∏–∑–∏—Ç—ã –¥–ª—è –æ–ø–ª–∞—Ç—ã, –µ—Å–ª–∏ —Å—Ç–æ–∏–º–æ—Å—Ç—å –±–æ–ª—å—à–µ 0
            const paymentDetails = document.getElementById('paymentDetails');
            if (totalCost > 0) {
                paymentDetails.style.display = 'block';
            } else {
                paymentDetails.style.display = 'none';
            }
        }

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
        updateTeachers();
    </script>
</body>
</html>